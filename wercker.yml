---
box:
  id: dceoy/jupyter:latest
  entrypoint: /bin/bash -c
deploy:
  steps:
    - script:
        name: Install Git
        code: |
          apt-get -y update
          apt-get -y install --no-install-recommends --no-install-suggests git
    - script:
        name: Set git configs
        code: |
          git config --global user.email 'dnarsil+github@gmail.com'
          git config --global user.name 'dceoy'
    - script:
        name: Build HTML documents
        code: |
          ./build.py
    - script:
        name: Deploy HTML documents on GitHub Pages
        code: |
          ./deploy.sh --remote=https://$GITHUB_TOKEN@github.com/dceoy/mahq.git
  after-steps:
    - slack-notifier:
        url: $SLACK_URL
        channel: $SLACK_CHANNEL
